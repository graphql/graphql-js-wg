# GraphQL WG Notes - Feb 2025

**Watch the replays:**
[GraphQL.js Working Group Meetings on YouTube](https://www.youtube.com/playlist?list=PLP1igyLx8foHghwopNuQM7weyP5jR147I)

- Intros, agreement, note taking volunteers and agenda review
- Nullability RFC implementation (15m, Alex Reilly)
  - Alex: what are the action items that are left for nullability wg
  - @experimental_disableErrorPropagation change merged from Martin (https://github.com/graphql/graphql-js/pull/4348)
  - Document directive needs to be extracted into a separate PR.
    - Unsure of amount of work required for this.
    - Will delay until after general WG to see if this progresses and is needed.
  - Benjie: Talking about what can be experimented with once we release
  - Feature flags in the schema could be an option
  - Consider doing it w/o a concrete version number
  - Alex: Nullability WG meets later today, see what the group thinks
- Releasing GraphQL v17 (10m, Jovi De Croock)
  - Jovi: Not intending to release now, but getting it stable
  - Export maps, let's get those in
    - ESM, ability to granularly export
  - process.env, get rid of it or default to production?
    - Opinions from client maintainers (e.g. Apollo)
    - Lenz is working through some options there, will follow up in the Issue
  - BigInt in scalars, can we skip it?
    - Not a breaking change, additive
  - Release beta or rc
  - API Documentation
    - [https://www.graphql-js.org/upgrade-guides/v16-v17/](https://www.graphql-js.org/upgrade-guides/v16-v17/)
  - Notes:
    - Benjie: there are RFC2 things coming down the line like the upcoming topic, and more things that we need to get in before v17, these have pull requests they need to get merged
      - Implementations may not deprecate fields that the interface did not deprecate
      - Operation types must exist
      - Tweak in default value coercion rules
      - Forbid skip and include in the subscription root
      - [https://github.com/graphql/graphql-spec/pull/793](https://github.com/graphql/graphql-spec/pull/793) is already merged into GraphQL.js, we should advance at spec WG to RFC3
    - Benjie: where are we on ESM support
      - Let’s signal we’ll do it in v18
- Forbid @skip and @include directives in subscription root (10m, Benjie)
  - Benjie: catching up w/ latest
  - Side case in subscriptions where if you create a subscription document that uses skip/include in root selection set - you can use 3 fields, skip 2 and include the others, could be empty
  - Shouldn’t happen, at execution the wrong number of fields are surfaced and there’s an error
  - Wrote a small spec change to address - feedback from Lee was that it was a bit hacky
  - Validation doesn’t go into variable values - field collection does - in the spec I’ve pulled that algo out, updated it so that it speaks in terms of vars and explicitly disallows these directives
  - For graphqljs there’s a simpler approach - pass a forbidSkipAndInclude bool so we can do validation along these lines - git history shows it - created a new frozen null prototype obj
  - When checking, when var values is specifically this obj, forbid skip and include
  - Might rely too much on JavaScript-isms - porting may be too challenging
  - Feedback appreciated
  - RFC stage 2 in spec, won’t be rfc3 until merged in graphqljs
  - Jovi: I’ll try to make time for it in the next few days
  - Benjie: also on agenda in main WG
  - Yaacov: noticed after a quick look, collect fields algo returns a bit of error info
  - We have one other case where we have sort of an error that can be triggered by collect fields - subscription w/ defer for instance - I think we just throw an error there - want to double check. Maybe we could align both implementations
  - Benjie: you’re right - w/ field collection you generally don’t care - only matters from that one validation rule - we don’t want to throw, we want all the nodes collected then add them to the list of invalid parts of the doc - highlight each of those
  - In general, if this were to fail, it doesn’t actually matter acc to the execution algo, checks it in a different way
  - I have a slight concern over this - effectively when we call this we are creating an empty array when we call collect fields, which upsets me - was aiming for a clean diff
  - Yaacov: we don’t have to align, just a nice-to-have, will follow up if I have some other thoughts on this
  - Benjie: we could mirror the spec itself and duplicate the collection algo but it seems like, broadly, duplication of code w/o a massive payoff
  - Jovi: any other talking points?
  - Yaacov: reviewing agenda, you brought up good points
  - instanceof and how we plan on addressing that? Would it help to discuss here?
  - Jovi: Lenz from Apollo is working on a similar issue, working through options and will follow up
